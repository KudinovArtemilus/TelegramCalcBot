# 🤖 TelegramCalcBot

TelegramCalcBot — учебный Telegram-бот на **C# (.NET)** с чистой архитектурой.  
Проект демонстрирует работу с **Inline-кнопками**, **командами**, **DI** и **состоянием пользователя**.

---

## 🚀 Возможности

- 📋 Главное меню с inline-кнопками (`/start`)
- 🔤 Подсчёт количества символов в тексте
- ➕ Вычисление суммы чисел
- 🔙 Кнопка возврата в главное меню
- 🧾 Команды с аргументами (`/sum 1 2 3`)
- 🧩 Расширяемая архитектура

---

## 📋 Примеры использования

### 🔤 Подсчёт символов
```
сова летит
→ В вашем сообщении 10 символов
```

### ➕ Сумма чисел
```
2 3 15
→ Сумма чисел: 20
```

### 🧾 Команда
```
/sum 1 2 3
→ Сумма чисел: 6
```

---

## 🧱 Архитектура проекта

```
TelegramCalcBot
│
├── Program.cs
│
├── Bot
│   └── BotHostedService.cs
│
├── Controllers
│   ├── TextMessageController.cs
│   └── CallbackQueryController.cs
│
├── Commands
│   ├── ICommand.cs
│   ├── BaseCommand.cs
│   ├── CommandDispatcher.cs
│   ├── StartCommand.cs
│   └── SumCommand.cs
│
├── Services
│   └── MenuService.cs
│
├── Keyboards
│   └── InlineMenus.cs
│
├── State
│   └── UserState.cs
│
└── Models
    └── UserMode.cs
```

---

## 🛠 Используемые технологии

- .NET 7+
- C#
- Telegram.Bot (v20+)
- Microsoft.Extensions.Hosting
- Dependency Injection
- Async / Await
- InlineKeyboardMarkup

---

## ⚙ Запуск проекта

1. Создайте Telegram-бота через **@BotFather**
2. Скопируйте токен
3. Вставьте токен в `Program.cs`:

```csharp
new TelegramBotClient("ВАШ_BOT_TOKEN")
```

4. Запустите проект:

```bash
dotnet run
```

---

## 📌 Особенности реализации

- Каждое нажатие inline-кнопки подтверждается  
  `AnswerCallbackQueryAsync`
- Команды обрабатываются отдельно от обычных сообщений
- Состояние пользователя хранится централизованно
- Архитектура легко масштабируется

---

## 🔮 Возможные улучшения

- Хранение состояния в базе данных
- Редактирование сообщений вместо отправки новых
- Логирование обновлений
- Поддержка нескольких языков
- Добавление новых команд

---

## 👨‍💻 Назначение проекта

Проект предназначен для обучения:
- созданию Telegram-ботов на C#
- проектированию архитектуры
- работе с inline-кнопками и командами

Проект может использоваться как стартовый шаблон.
